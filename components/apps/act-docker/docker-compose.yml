# Auto-generated docker-compose.yml for ACT Multi-Flow
# Generated by docker-compose-generator.py
# DO NOT EDIT MANUALLY - Run ./startup.sh to regenerate

# Shared ACT base image - built once, reused by all flows
x-act-base: &act-base
  build: .
  environment:
    - PYTHONUNBUFFERED=1
  volumes:
    - ./act:/app/act
  restart: unless-stopped
  networks:
    - act-network

services:

  act-github-pr-reviewer:
    <<: *act-base
    container_name: act-github-pr-reviewer
    ports:
      - "9002:9002"
    environment:
      - PYTHONUNBUFFERED=1
      - ACT_PORT=9002
    volumes:
      - ./act:/app/act
      - ./flows/github-pr-reviewer.flow:/app/flow

  act-iss-weather-api:
    <<: *act-base
    container_name: act-iss-weather-api
    ports:
      - "9003:9003"
    environment:
      - PYTHONUNBUFFERED=1
      - ACT_PORT=9003
    volumes:
      - ./act:/app/act
      - ./flows/iss-weather-api.flow:/app/flow

  act-syria-weather-api:
    <<: *act-base
    container_name: act-syria-weather-api
    ports:
      - "9001:9001"
    environment:
      - PYTHONUNBUFFERED=1
      - ACT_PORT=9001
    volumes:
      - ./act:/app/act
      - ./flows/syria-weather-api.flow:/app/flow

  act-price-monitor:
    <<: *act-base
    container_name: act-price-monitor
    ports:
      - "9004:9004"
    environment:
      - PYTHONUNBUFFERED=1
      - ACT_PORT=9004
    volumes:
      - ./act:/app/act
      - ./flows/price-monitor-simple.flow:/app/flow
      - price-monitor-data:/app

networks:
  act-network:
    driver: bridge

volumes:
  price-monitor-data:
