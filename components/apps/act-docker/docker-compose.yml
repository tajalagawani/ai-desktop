# Auto-generated docker-compose.yml for ACT Multi-Flow
# Generated by docker-compose-generator.py
# DO NOT EDIT MANUALLY - Run ./startup.sh to regenerate

# Shared ACT base image - built once, reused by all flows
x-act-base: &act-base
  build: .
  environment:
    - PYTHONUNBUFFERED=1
  volumes:
    - ./act:/app/act
  restart: unless-stopped
  networks:
    - act-network

services:

  act-action-builder:
    <<: *act-base
    container_name: act-action-builder
    ports:
      - "9002:9002"
    environment:
      - PYTHONUNBUFFERED=1
      - ACT_PORT=9002
    volumes:
      - ./act:/app/act
      - ./flows/action-builder.flow:/app/flow

  act-iss-location:
    <<: *act-base
    container_name: act-iss-location
    ports:
      - "9001:9001"
    environment:
      - PYTHONUNBUFFERED=1
      - ACT_PORT=9001
    volumes:
      - ./act:/app/act
      - ./flows/iss-location.flow:/app/flow

networks:
  act-network:
    driver: bridge
